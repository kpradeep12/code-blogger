<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="google-site-verification" content="17GXTKdnqGMgpkrc7Kbz323f4wg41DzBsDcNsfnHmVo" />
<!--below verification is techstackjava.com-->
<meta name="google-site-verification" content="tuMqCtGo9Q2zjZ6e2k1iswdB1R56vqiqYfbSrrzlyRE" />
<meta name="google-site-verification" content="6prhbit_zvr5fgjCg8h5zm8eH7tQrVeMcbHGOhb393g" />
<!-- Twitter cards-->
<meta name="twitter:site"    content="@PradeepK4J">
<meta name="twitter:creator" content="@pradeep">
<meta name="twitter:title"   content="Understanding Kotlin Extension Functions">

<meta name="twitter:card"  content="summary_large_image">
<meta name="twitter:image" content="http://thetechstack.net/assets/images/banners/kotlin-extension-function.png">

<!-- end of Twitter cards -->


<link rel="icon" href="/assets/images/logo.png">
    
<!--<title>Understanding Kotlin Extension Functions | The Tech Stack . Net</title>-->
    
<meta name="description" content="Basics of Kotlin extension functions. Add println function to String instance instead of passing it to println."> 
    
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    
<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
    
<link href="/assets/css/screen.css" rel="stylesheet">
    
<link href="/assets/css/main.css" rel="stylesheet">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Understanding Kotlin Extension Functions | Pradeep’s Java and Kotlin blog</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Understanding Kotlin Extension Functions" />
<meta name="author" content="pradeep" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Basics of Kotlin extension functions. Add println function to String instance instead of passing it to println." />
<meta property="og:description" content="Basics of Kotlin extension functions. Add println function to String instance instead of passing it to println." />
<link rel="canonical" href="http://thetechstack.net/understanding-kotlin-extension-functions/" />
<meta property="og:url" content="http://thetechstack.net/understanding-kotlin-extension-functions/" />
<meta property="og:site_name" content="Pradeep’s Java and Kotlin blog" />
<meta property="og:image" content="http://thetechstack.net/assets/images/banners/kotlin-extension-function.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-12-04T20:11:10-05:00" />
<script type="application/ld+json">
{"url":"http://thetechstack.net/understanding-kotlin-extension-functions/","author":{"@type":"Person","name":"pradeep"},"description":"Basics of Kotlin extension functions. Add println function to String instance instead of passing it to println.","headline":"Understanding Kotlin Extension Functions","datePublished":"2018-12-04T20:11:10-05:00","dateModified":"2018-12-04T20:11:10-05:00","@type":"BlogPosting","image":"http://thetechstack.net/assets/images/banners/kotlin-extension-function.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://thetechstack.net/understanding-kotlin-extension-functions/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-115619272-1', 'auto');
  ga('send', 'pageview');
</script>


</head>
    


<body class="layout-post">

    
<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    
    <div class="container pr-0">    
    
    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/" alt="The Tech Stack . Net">
    </a>
    <!-- End Logo -->
  
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    
    
    <div class="collapse navbar-collapse" id="navbarMediumish">
       
        <!-- Begin Menu -->
        
            <ul class="navbar-nav ml-auto">
                <!--
                
                <li class="nav-item">
                
                <a class="nav-link" href="/index.html">Blog</a>
                </li>
                
                
                <li class="nav-item">
                
                <a class="nav-link" href="/about">About</a>
                </li>-->
                
                <li class="nav-item">
                <a target="_blank"  class="nav-link" href="https://twitter.com/PradeepK4J"><i class="fab fa-twitter"></i></a>
                </li>
                
            </ul>		
  
        <!-- End Menu -->

    </div>
        
    </div>
</nav>
<!-- End Navigation
================================================== -->
    
<div class="site-content">   
<div class="container">
    
<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">The Tech Stack . Net</h1>
    <p class="lead">
         Sharing my Java and Kotlin coding experiments in this blog
    </p>
</div>

    
    
<!-- Content
================================================== --> 
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
	<div class="row">

		<!-- Post Share -->
		<div class="col-md-2 pl-0">            
           <div class="share">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=Understanding Kotlin Extension Functions&url=http://thetechstack.net/understanding-kotlin-extension-functions/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=http://thetechstack.net/understanding-kotlin-extension-functions/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://plus.google.com/share?url=http://thetechstack.net/understanding-kotlin-extension-functions/" onclick="window.open(this.href, 'facebook-google', 'width=550,height=435');return false;">
        <i class="fab fa-google"></i>
        </a>
        </li>
        
    </ul>
    
    <div class="sep">
    </div>				
    <ul>
        <li> 
        <a  class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>  
		</div>
		

		<!-- Post -->        
        
        
		<div class="col-md-9 flex-first flex-md-unordered">
			<div class="mainheading">

                <!-- Author Box -->
                				
				<div class="row post-top-meta">
					<div class="col-md-2">
						<img class="author-thumb" src="/assets/images/author.jpg" alt="Pradeep Kundarapu">
					</div>
					<div class="col-md-10">
                        <a target="_blank" class="link-dark" href="http://thetechstack.net">Pradeep Kundarapu</a>
                        <a target="_blank" href="https://twitter.com/PradeepK4J" class="btn follow">Follow</a>
						<div class="author-description">Java & Kotlin developer, blogger and tech enthusiast.</div>						
					</div>
				</div>				
                
                
                <!-- Post Title -->
				<h1 class="posttitle">Understanding Kotlin Extension Functions</h1> 
                
			</div>

			<!-- Post Featured Image -->
			<img class="featured-image img-fluid" src="http://thetechstack.net/assets/images/banners/kotlin-extension-function.png" alt="Understanding Kotlin Extension Functions">
			<!-- End Featured Image -->

			<!-- Post Content -->
			<div class="article-post">
				<p>Extension function allows us to extend the functionality of a class. It does not matter if the class is in a external library. We can customize the functionality of class with out making changes to it. At first these extension functions seems confusing for Java programmers but going though some examples should help in understanding it.</p>

<p>I will take <strong>String</strong> class as an example because <em>String</em> is one of the most used class in the Java world, lets add an extension function to it. Passing a string to <strong>println</strong> will print it on console but instead of passing string to a function we can add an extension function to the <strong>String</strong> itself. In below code I created an extension function on String and calling it from main()</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">fun</span> <span class="nf">main</span><span class="o">(){</span>
    <span class="n">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">)</span> <span class="c1">// &lt;1&gt;</span>
    <span class="s">"Hello World!"</span><span class="o">.</span><span class="na">println</span><span class="o">()</span> <span class="c1">// &lt;2&gt; Calling extension function on String class</span>
<span class="o">}</span>

<span class="c1">//Extension function</span>
<span class="n">fun</span> <span class="n">String</span><span class="o">.</span><span class="na">println</span><span class="o">()</span> <span class="o">=</span> <span class="n">println</span><span class="o">(</span><span class="k">this</span><span class="o">)</span> <span class="c1">// &lt;3&gt;</span>

<span class="cm">/* Output:
Hello World!
Hello World!
*/</span></code></pre></figure>

<p>&lt;1&gt; Passing string to <em>println</em> which prints message on console. This is regular function in <em>Kotlin</em> <br />
&lt;2&gt; <em>println</em> function is not part of <strong>String</strong> class but we are calling extension function.<br />
&lt;3&gt; Declared an extension function on String class. More about this in the next section.</p>

<p>Now we can directly call <em>println</em> on <em>String</em> to print text on the console.</p>

<h2 id="declare-extension-functions">Declare Extension Functions</h2>

<p>To declare an extension function we need to prefix <em>function name</em> with <em>receiver type</em> separating with <em>dot</em> like below.</p>

<p><strong class="align-text-center">fun &lt;Receiver type&gt;.&lt;function name&gt;(){}</strong></p>

<p>Based on our example we created an extension function on String so we declared it as <strong>fun String.println()</strong>. We are saying that <em>String</em> is the receiver type and <em>println</em> is the extension function name. Now we can call <em>println</em> on any String objects in my project if I have this declaration in the class path and this function will print the message to console.</p>

<p>For this tutorial purpose created a simple example where it just prints a message but we can have any logic in it which can manipulate <em>receiver type</em>. <strong>How to access receiver type in the function?</strong> the answer is using <strong>this</strong>. this is a implicit reference to the receiver type so can manipulate receiver using <strong>this</strong></p>

<p>In the above example I just want to print so I am directly passing <em>this</em> to <em>println</em> function like below</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">fun</span> <span class="n">String</span><span class="o">.</span><span class="na">println</span><span class="o">()</span> <span class="o">=</span> <span class="n">println</span><span class="o">(</span><span class="k">this</span><span class="o">)</span></code></pre></figure>

<h2 id="how-extension-functions-works">How Extension Functions Works?</h2>

<p>How <em>this</em> is implicitly reference the receiver type? I decompiled the above code to show how <em>Kotlin</em> converts them to <em>Java</em> compatible code and below is the output:</p>

<p><strong>Kotlin Code</strong></p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="s">"Hello World!"</span><span class="o">.</span><span class="na">println</span><span class="o">()</span>

<span class="n">fun</span> <span class="n">String</span><span class="o">.</span><span class="na">println</span><span class="o">()</span> <span class="o">=</span> <span class="n">println</span><span class="o">(</span><span class="k">this</span><span class="o">)</span></code></pre></figure>

<p><strong>Decompiled Code</strong></p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">println</span><span class="o">(</span><span class="s">"Hello World!"</span><span class="o">);</span> <span class="c1">// &lt;1&gt;</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">println</span><span class="o">(</span><span class="nd">@NotNull</span> <span class="n">String</span> <span class="n">$receiver</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// &lt;2&gt;</span>
    <span class="n">Intrinsics</span><span class="o">.</span><span class="na">checkParameterIsNotNull</span><span class="o">(</span><span class="n">$receiver</span><span class="o">,</span> <span class="s">"receiver$0"</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">$receiver</span><span class="o">);</span> <span class="c1">// &lt;3&gt;</span>
<span class="o">}</span></code></pre></figure>

<p>&lt;1&gt; <em>Receiver type</em> is passed as the argument to the extension function. This is the reason we can use <strong>this</strong> in the extension function to refer the receiver.<br />
&lt;2&gt; Declaration is changed such that <em>Receiver type</em> becomes parameter to the function.
&lt;3&gt; Extension function implementation is converted to <em>Java</em>.  Where ever we used <em>this</em> in the <em>Kotlin</em> is replaced with <em>receiver</em> in <em>Java</em></p>

<p>If extension function <em>println</em> needs to take arguments then those arguments are appended after the <em>receiver</em> type in the function implementation. Lets assume we have a class <em>Animal</em> in a third party library. In below code I created a extended function to add more functionality to it and extended function takes one argument.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nf">Animal</span><span class="o">(</span><span class="n">val</span> <span class="nl">type:</span><span class="n">String</span><span class="o">){</span> <span class="c1">// &lt;1&gt;</span>
    <span class="n">fun</span> <span class="nf">eat</span><span class="o">()</span> <span class="o">=</span> <span class="n">println</span><span class="o">(</span><span class="s">"$type is Eating"</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">fun</span> <span class="n">Animal</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nl">speed:</span><span class="n">Int</span><span class="o">)</span> <span class="o">=</span> <span class="n">println</span><span class="o">(</span><span class="s">"$type is running at $speed mph"</span><span class="o">)</span> <span class="c1">// &lt;2&gt;</span>

<span class="n">fun</span> <span class="nf">main</span><span class="o">(){</span>
    <span class="n">val</span> <span class="n">animal</span> <span class="o">=</span> <span class="n">Animal</span><span class="o">(</span><span class="s">"Cat"</span><span class="o">)</span> <span class="c1">// &lt;3&gt;</span>
    <span class="n">animal</span><span class="o">.</span><span class="na">eat</span><span class="o">()</span>
    <span class="n">animal</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="mi">10</span><span class="o">)</span>
<span class="o">}</span></code></pre></figure>

<p>&lt;1&gt; <em>Animal</em> class is part of third party library so we can not change it.<br />
&lt;2&gt; We added <em>run</em> as extension function on Animal, which prints animal type and speed<br />
&lt;3&gt; Creating animal object and calling <em>eat()</em> and extension function <em>run()</em>. This example shows that we can add arguments to the external functions.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Extension functions not only just for Java core classes, we can add them for even third party libraries. But make sure to not overuse it because they may create ambiguity in the project so some policies may be needed in the project to create and maintain extension functions.</p>

			</div>

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2018-12-04">04 Dec 2018</time></span>           
                
                </small>
            </p>
            
			<!-- Post Categories -->
			<div class="after-post-tags">
				<ul class="tags">
                    
                    
                    <li>
                     <a href="/category/kotlin/">kotlin</a>
                    </li>
                    
				</ul>
			</div>
			<!-- End Categories -->
            
            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="http://thetechstack.net/design-and-implement-REST-APIs-using-spring/"> &laquo; Design and Implement REST API's using Spring</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="http://thetechstack.net/kotlin-operators/">Operator overloading in Kotlin &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

		</div>
		<!-- End Post -->

	</div>
</div>
<!-- End Article
================================================== -->

  

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">              
                
<section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'thetechstack-net'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
                
            </div>
        </div>
    </div>

<!--End Comments
================================================== -->
</div>

<!-- Bottom Alert Bar
================================================== -->
<div class="alertbar">
	<div class="container text-center">
		<span><img src="/" alt="Pradeep's Java and Kotlin blog"> &nbsp; Never miss an <b>article</b>, subscribe to my newsletter</span>
        <form action="https://thetechstack.us7.list-manage.com/subscribe/post?u=1381d872f022743eb338f00a1&amp;id=88d9fceb21" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group">
            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form>
	</div>
</div>
    
</div>

<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
          
             
              <a href="/category/java">Java (26)</a>
             
              <a href="/category/reactiveX">Reactivex (3)</a>
             
              <a href="/category/docker">Docker (2)</a>
             
              <a href="/category/tools">Tools (1)</a>
             
              <a href="/category/spring">Spring (2)</a>
             
              <a href="/category/kotlin">Kotlin (3)</a>
             
              <a href="/category/algorithms">Algorithms (1)</a>
            
          
        

		</div>
	</div>
</div>
 


<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                 Copyright © 2018 The Tech Stack . Net 
            </div>
            <!--<div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>-->
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

   
</div> 
<!-- Placed at the end of the document so the pages load faster -->
    
<script src="/assets/js/jquery.min.js"></script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
<script src="/assets/js/ie10-viewport-bug-workaround.js"></script>
    
<script src="/assets/js/mediumish.js"></script>
    
<script id="dsq-count-scr" src="//thetechstack-net.disqus.com/count.js"></script>
</body>
</html>
