<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
<link rel="icon" href="/assets/images/logo.png">
    
<title>Pull And Run First Docker Image | The Tech Stack . Net</title>
    
 
    
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    
<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
    
<link href="/assets/css/screen.css" rel="stylesheet">
    
<link href="/assets/css/main.css" rel="stylesheet">
    
</head>
    

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-115619272-1', 'auto');
  ga('send', 'pageview');
</script>

<meta name="google-site-verification" content="17GXTKdnqGMgpkrc7Kbz323f4wg41DzBsDcNsfnHmVo" />


<body class="layout-post">

    
<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    
    <div class="container pr-0">    
    
    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/" alt="The Tech Stack . Net">
    </a>
    <!-- End Logo -->
  
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>
    
    
    <div class="collapse navbar-collapse" id="navbarMediumish">
       
        <!-- Begin Menu -->
        
            <ul class="navbar-nav ml-auto">
                
                
                <li class="nav-item">
                
                <a class="nav-link" href="/index.html">Blog</a>
                </li>
                <!--
                
                <li class="nav-item">
                
                <a class="nav-link" href="/about">About</a>
                </li>-->
                
                <li class="nav-item">
                <a target="_blank"  class="nav-link" href="https://twitter.com/PradeepK4J"><i class="fab fa-twitter"></i></a>
                </li>
                
            </ul>		
  
        <!-- End Menu -->

    </div>
        
    </div>
</nav>
<!-- End Navigation
================================================== -->
    
<div class="site-content">   
<div class="container">
    
<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">The Tech Stack . Net</h1>
    <p class="lead">
         Sharing my coding experiments
    </p>
</div>

    
    
<!-- Content
================================================== --> 
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
	<div class="row">

		<!-- Post Share -->
		<div class="col-md-2 pl-0">            
           <div class="share">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=Pull And Run First Docker Image&url=http://thetechstack.net/blog/2018/07/22/pull-and-run-first-docker-image" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=http://thetechstack.net/blog/2018/07/22/pull-and-run-first-docker-image" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://plus.google.com/share?url=http://thetechstack.net/blog/2018/07/22/pull-and-run-first-docker-image" onclick="window.open(this.href, 'facebook-google', 'width=550,height=435');return false;">
        <i class="fab fa-google"></i>
        </a>
        </li>
        
    </ul>
    
    <div class="sep">
    </div>				
    <ul>
        <li> 
        <a  class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>  
		</div>
		

		<!-- Post -->        
        
        
		<div class="col-md-9 flex-first flex-md-unordered">
			<div class="mainheading">

                <!-- Author Box -->
                				
				<div class="row post-top-meta">
					<div class="col-md-2">
						<img class="author-thumb" src="/assets/images/author.jpg" alt="Pradeep Kundarapu">
					</div>
					<div class="col-md-10">
                        <a target="_blank" class="link-dark" href="http://thetechstack.net">Pradeep Kundarapu</a>
                        <a target="_blank" href="https://twitter.com/PradeepK4J" class="btn follow">Follow</a>
						<div class="author-description">Java developer, blogger and tech enthusiast.</div>						
					</div>
				</div>				
                
                
                <!-- Post Title -->
				<h1 class="posttitle">Pull And Run First Docker Image</h1> 
                
			</div>

			<!-- Post Featured Image -->
			<img class="featured-image img-fluid" src="http://thetechstack.net/assets/images/banners/pull-and-run-first-docker-image.png" alt="Pull And Run First Docker Image">
			<!-- End Featured Image -->

			<!-- Post Content -->
			<div class="article-post">
				<p>Docker image is a file, which contains set of commands. When these commands are executed, instance of the image is created and this instance is called <em>Container</em>. We can assume image files are like Java’s class files and objects are container instances.</p>

<h2 id="pull-docker-image">Pull docker image</h2>

<p><a href="https://store.docker.com/">Docker Store</a> is a central repository for docker image files. This repository is maintained by Docker and it contains images of many major applications. In this section we will pull <em>mysql</em> image from docker store and then run it to create a container instance.</p>

<p>We can search for mysql-server in <strong><a href="https://store.docker.com/">docker store</a></strong>. Here is the direct link of <a href="https://store.docker.com/community/images/mysql/mysql-server">mysql-server</a> page in docker store. All image files will have a dedicated page in docker store which provides basic information about the image and instructions to pull, run and configure it, also it shows contents of image file. Below image shows the structure of the page.</p>

<p><img src="/assets/images/posts/2018/07/docker-image-page.png" alt="pet store hello" height="450px" width="500px" class="align-center" /></p>

<p>Lets pull mysql image from docker store. Open terminal and execute below command. Before executing this command make sure that docker is running. Refer <strong><a href="/blog/2018/06/09/docker-intro.html">Docker introduction</a></strong> for more details on Docker setup.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker pull mysql/mysql-server</code></pre></figure>

<p>This command will download mysql image and while downloading it prints some information on the console. On my terminal it printed below text;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Using default tag: latest // &lt;1&gt;
latest: Pulling from mysql/mysql-server
b0efbbec3b2e: Pull <span class="nb">complete 
</span>4d06a7b7ca82: Pull <span class="nb">complete 
</span>7ddc24d9f468: Pull <span class="nb">complete 
</span>8b211b61b1a0: Pull <span class="nb">complete 
</span>Digest: sha256:f1cb1e3f0124601b1496f485e9f4401ad10138294b5a38d932089daafd555e34 // &lt;2&gt;
Status: Downloaded newer image <span class="k">for </span>mysql/mysql-server:latest // &lt;3&gt;</code></pre></figure>

<p>&lt;1&gt; <strong>tag</strong> is like version number. If we don’t mention the version then docker will download <strong>latest</strong> version by default. In the docker image page go to the <strong>tags</strong> tab to check all available versions/tags. Check point <strong>3</strong> below for more details on downloading specific tag.<br />
&lt;2&gt; Docker image files are immutable, means once the image is build its content will never change. Each image will have unique digest value. This shows the digest of mysql image which we downloaded.<br />
&lt;3&gt; In the pull command we didn’t mentioned the version so by default docker downloads <strong>latest</strong> version. We can provide specific version in the pull command, for example to pull <strong>8.0</strong> we can execute <strong>docker pull mysql/mysql-server:8.0</strong></p>

<h2 id="run-image-file">Run image file</h2>

<p>In the previous section we downloaded mysql image. In this section we will run this image. Execute below command, which will create mysql container instance.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker run mysql/mysql-server</code></pre></figure>

<p>We use <em>run</em> sub-command to execute image files. If we downloaded multiple tags then we can provide specific tag name like <strong>docker run mysql/mysql-server:&lt;tag&gt;</strong>. Run command takes some time to execute and while execution it prints text in the terminal. Look for below two important lines in the output;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">...
...
Warning: Unable to load <span class="s1">'/usr/share/zoneinfo/zone1970.tab'</span> as <span class="nb">time </span>zone. Skipping it.
<span class="o">[</span>Entrypoint] GENERATED ROOT PASSWORD: ILOvILAt20fIwSYlMEtKoruNEzk // &lt;1&gt;
<span class="o">[</span>Server] <span class="s1">'user'</span> entry <span class="s1">'healthchecker@localhost'</span> ignored <span class="k">in</span> <span class="nt">--skip-name-resolve</span> mode.
...
...
...
<span class="o">[</span>System] <span class="o">[</span>MY-010931] <span class="o">[</span>Server] /usr/sbin/mysqld: ready <span class="k">for </span>connections. Version: <span class="s1">'8.0.11'</span>  socket: <span class="s1">'/var/lib/mysql/mysql.sock'</span>  port: 3306  MySQL Community Server - GPL. // &lt;2&gt;</code></pre></figure>

<p>&lt;1&gt; Some where in the center of the logs, we should see generated root password. Note down this password, it will be different on your machine. We need this password to connect mysql. If we want to provide our own password then we can provide it in run command like this <strong>docker run -e MYSQL_ROOT_PASSWORD=root mysql/mysql-server</strong>. Here I provided ‘root’ as the password.<br />
&lt;2&gt; At the end of the logs we should see message saying <strong>ready for connections</strong> and also it shows <em>version</em> and <em>port number</em>.</p>

<h2 id="stop-container">Stop container</h2>

<p>In the above section we ran mysql as foreground process means terminal is taken up by the run command and we can not get prompt to enter other commands. To stop current running container first we need to execute below command in other terminal.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker ps</code></pre></figure>

<p>This command will list all running containers with some basic information for each container. Below are the some of the details it provides;</p>

<ul>
  <li>Container Id: Randomly generated unique Id to identify this container.</li>
  <li>Ports: Ports exposed by this container.</li>
  <li>Names: Random name assigned to this container.</li>
</ul>

<p>Now we have the container id, we use this to stop the container. Execute below command;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker stop b1b681db49f2</code></pre></figure>

<p>b1b681db49f2 is the container id assigned to mysql container executing on my machine, this id will be different on your machine because it is a randomly generated id. Get this id from the result of <strong>docker ps</strong> command. Verify if container was stopped by running <em>docker ps</em> again, this time you should not see the mysql container in the result.</p>

<h2 id="connect-to-mysql-container">Connect to mysql container</h2>

<p>In the previous sections we went through the process of starting and stopping containers. In this section we will test mysql container by connecting to it.</p>

<p>IMPORTANT: Every container is different. Steps in this section explains the verification process of mysql container if we want verify any other container then we need to follow the process mentioned in the docker store page for that container.</p>

<p>Lets start the mysql container;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker run <span class="nt">--name</span> mysql <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>root <span class="nt">-d</span> mysql/mysql-server</code></pre></figure>

<p>I used below options in the run command:</p>

<ul>
  <li><strong>–name</strong>: We can provide custom name to the container</li>
  <li><strong>-e</strong>: This flag helps us to set environment variables for the container. In this case we used this to set mysql root password. Check mysql docker store page for all available environment options for mysql.</li>
  <li><strong>-d</strong>: Runs container in the background so we can continue to use the prompt in this terminal.</li>
</ul>

<p>Because we are running container in the background we can not see the output logs on the terminal. We can see these logs by executing below command;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker logs mysql</code></pre></figure>

<p><strong>docker logs</strong> takes the container name and I provided <em>mysql</em> because in the previous run command I provided container name as <strong>mysql</strong>. We are having a running mysql container now lets execute bash in the mysql container so we can connect and execute some queries.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker <span class="nb">exec</span> <span class="nt">-it</span> mysql bash</code></pre></figure>

<p><em>docker exec</em> command runs the provided command with in the container. In this case we want <em>bash</em> to run in the mysql container. This will provide a bash prompt which is running in the mysql container. Now connect to the mysql like below;</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mysql <span class="nt">-u</span> <span class="s2">"root"</span> <span class="nt">-p</span></code></pre></figure>

<p>This command prompts for the mysql password, enter the password. Now we can execute sql queries on mysql container. Below query lists all available databases.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mysql&gt; show databases<span class="p">;</span></code></pre></figure>

<p>You can continue to execute mysql queries here.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this article we learnt downloading images, running and testing containers. With this setup we can have mysql in the docker instead of on the machine.</p>

			</div>

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2018-07-22">22 Jul 2018</time></span>           
                
                </small>
            </p>
            
			<!-- Post Categories -->
			<div class="after-post-tags">
				<ul class="tags">
                    
                    
                    <li>
                     <a href="/category/docker/">docker</a>
                    </li>
                    
				</ul>
			</div>
			<!-- End Categories -->
            
            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="http://thetechstack.net/blog/2018/07/11/spring-cloud-config-basics-part-2"> &laquo; Spring Cloud Configuration - Part 2</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="http://thetechstack.net/blog/2018/07/24/observables">8 Quick Ways To Create Observables &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

		</div>
		<!-- End Post -->

	</div>
</div>
<!-- End Article
================================================== -->

  

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">              
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'k_pradeep1234'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
                
            </div>
        </div>
    </div>

<!--End Comments
================================================== -->
</div>

<!-- Bottom Alert Bar
================================================== -->
<!--<div class="alertbar">
	<div class="container text-center">
		<span><img src="/" alt=""> &nbsp; Never miss a <b>story</b> from us, subscribe to our newsletter</span>
        <form action="" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group">
            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form>
	</div>
</div>    -->
    
</div><!-- /.container>
    
<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
          
             
              <a href="/category/java">Java (26)</a>
             
              <a href="/category/reactiveX">Reactivex (3)</a>
             
              <a href="/category/docker">Docker (2)</a>
             
              <a href="/category/tools">Tools (1)</a>
             
              <a href="/category/spring">Spring (2)</a>
            
          
        

		</div>
	</div>
</div>
 


<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                 Copyright © 2018 The Tech Stack . Net 
            </div>
            <!--<div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>-->
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

   
</div> <!-- /.site-content>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
    
<script src="/assets/js/jquery.min.js"></script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
<script src="/assets/js/ie10-viewport-bug-workaround.js"></script>
    
<script src="/assets/js/mediumish.js"></script>
    
<script id="dsq-count-scr" src="//k_pradeep1234.disqus.com/count.js"></script>
</body>
</html>
